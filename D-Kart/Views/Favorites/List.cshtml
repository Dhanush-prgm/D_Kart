@model List<D_Kart.Domain.Models.Favorite>
@{
    ViewData["Title"] = "My Favorites";
}
<h2 style="margin:20px">My Favorites</h2>
@if (!Model.Any())
{
    <p style="margin:20px">You have no favorites yet.</p>
    <a asp-action="Collection" asp-controller="Products" style="margin:20px">
        <button class="back_button" style="text-decoration: none;"> Find your Favorites </button>
    </a>
}
else
{
    <div class="products">
        @foreach (var fav in Model)
        {
            if (fav != null)
            {
                <div class="products-box">
                    <a asp-action="Details" asp-controller="Products" asp-route-id="@fav.Id">
                        <img src="@fav.Product.ImageUrl" class="product-img" alt="@fav.Product.Name" />
                    </a>
                    <p>@fav.Product.Name</p>
                    <p>₹@fav.Product.Price</p>
                    <form asp-action="Remove" asp-controller="Favorites" asp-route-id="@fav.Id" method="post" style="display:inline;">
                        <button type="submit" title="Remove from Favorites" class="fav-btn"  style="background:none;border:none;">
                            <i class="fa fa-heart-broken"></i>
                        </button>
                    </form>
                    <a asp-action="Collection" asp-controller="Products">
                        <button class="back_button" style="text-decoration: none;"> Back to Products</button>
                    </a>
                </div>
            }
        }
    </div>
}

<style>


    .fav-btn {
        display: flex;
        align-items: center;
        justify-content: center;
        background: #fff;
        border: none;
        cursor: pointer;
        outline: none;
        border-radius: 50%;
        width: 38px;
        height: 38px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.07);
        margin-top: 8px;
        transition: background 0.2s, box-shadow 0.2s;
        position: relative;
    }

        .fav-btn i.fa-heart-broken {
            color: #e63946;
            font-size: 1.6em;
            transition: color 0.2s, transform 0.15s;
        }

        .fav-btn:hover {
            background: lightgrey;
            box-shadow: 0 4px 16px rgba(230,57,70,0.15);
        }

            .fav-btn:hover i.fa-heart-broken {
                color: #ad1b31;
                transform: scale(1.18);
            }

    .products-box {
        background: #fff;
        border-radius: 15px;
        box-shadow: 0 4px 24px rgba(0,0,0,0.05);
        padding: 20px 15px 15px 15px;
        margin-bottom: 30px;
        transition: box-shadow 0.2s;
    }

        .products-box:hover {
            box-shadow: 0 8px 32px rgba(230,57,70,0.13);
        }
</style>